/*return road segment where one can spawn, or objNull */
#include "..\..\component.hpp"

params ["_allPlayers", "_minSpawnDistance", "_maxSpawnDistance", "_civilians"];

if (count _allPlayers == 0) exitWith {INFO("_allPlayers is empty"); [0,0,0]};

private _spawnDistanceDiff = _maxSpawnDistance - _minSpawnDistance;
private _roadSegment = objNull;
private _return = [0,0,0];
private _refPlayerPos = getPos (selectRandom _allPlayers);


// let's get up to ten positions, just for the heck of it
private _roads = [_refPlayerPos, _minSpawnDistance, _maxSpawnDistance, 10, "road"] call grad_civs_fnc_findSpawnPositionCandidates;
// private _houseSpawnCandidates = [_refPlayerPos, 0, _maxSpawnDistance * 2, 10, "house"] call grad_civs_fnc_findSpawnPositionCandidates;


// make sure the travelers dont spawn close to other civs. necessary? not sure. maybe yes.
_roads = _roads select {
    {
        if (_roads distance _x < 100) exitWith {false};
        true
    } forEach _civilians + [[0, 0, 0]];
};

if ((count _roads) > 0) then {
    // return one spawn position of road
    selectRandom _roads
} else {
    objNull
}




